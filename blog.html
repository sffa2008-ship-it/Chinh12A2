<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog & Bạn bè - Nguyễn Công Chính</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    
    <style>
        .pinterest-grid {
            /* Sử dụng CSS Columns để tạo layout kiểu Masonry đơn giản */
            columns: 3 350px; /* Hiển thị 3 cột, mỗi cột tối thiểu 350px */
            column-gap: 1.5rem; /* Khoảng cách giữa các cột */
        }

        .photo-card {
            /* Quan trọng: Ngăn không cho nội dung (ảnh) bị cắt khi ngắt cột */
            break-inside: avoid;
            margin-bottom: 1.5rem; /* Khoảng cách giữa các ảnh */
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .photo-card img {
            width: 100%; /* Ảnh chiếm hết chiều rộng của cột */
            height: auto; /* Chiều cao tự động, giữ nguyên tỷ lệ ảnh gốc (ngang, dọc) */
            display: block;
            transition: opacity 0.4s ease-in-out; /* Hiệu ứng fade-in */
            background-color: #f0f0f0; /* Màu nền chờ tải ảnh */
            cursor: pointer; /* Thêm con trỏ để biết ảnh có thể click */
        }
        
        .photo-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 10px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .photo-card:hover .photo-caption {
            opacity: 1;
        }

        /* Responsive cho cột ảnh */
        @media (max-width: 992px) {
            .pinterest-grid {
                columns: 2 300px;
            }
        }

        @media (max-width: 600px) {
            .pinterest-grid {
                columns: 1;
            }
        }

        /* --- CSS cho Lightbox (ảnh phóng to) --- */
        .lightbox {
            display: none; /* Ẩn mặc định */
            position: fixed; /* Vị trí cố định so với viewport */
            z-index: 1000; /* Hiển thị trên cùng */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* Cho phép cuộn nếu ảnh quá lớn */
            background-color: rgba(0,0,0,0.85); /* Nền đen mờ */
            padding-top: 60px; /* Khoảng cách từ trên xuống */
        }

        .lightbox-content {
            margin: auto;
            display: block;
            max-width: 80%;
            max-height: 85vh; /* Chiều cao tối đa so với viewport */
            /* Hiệu ứng phóng to */
            animation-name: zoom;
            animation-duration: 0.5s;
        }

        @keyframes zoom {
            from {transform: scale(0.1)}
            to {transform: scale(1)}
        }

        .lightbox-close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }

        .lightbox-close:hover,
        .lightbox-close:focus {
            color: #bbb;
            text-decoration: none;
        }

        /* --- CSS cho Lazy Load --- */
        .lazy {
            opacity: 0; /* Ẩn ảnh đi cho đến khi được tải xong */
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo">CChinh (●'◡'●)</div>
            <ul class="nav-menu">
                <li><a href="index.html">Trang chủ & Về tôi</a></li>
                <li><a href="skills.html">Kỹ năng & Sở thích</a></li>
                <li><a href="blog.html" style="color: #4e54c8;">Blog & Bạn bè</a></li>
                <li><a href="contact.html">Liên hệ</a></li>
            </ul>
        </div>
    </nav>

    <div style="padding-top: 80px;"></div>
    <section id="blog" class="reveal-on-scroll">
        <div class="section-title">
            <h2>Kho Ảnh Cá Nhân</h2>
            <p>Những khoảnh khắc đẹp được lưu giữ. Chỉ cần chèn ảnh, layout sẽ tự động sắp xếp!</p>
        </div>
        <div class="pinterest-grid">
            <!-- Bạn có thể thay thế ảnh và nội dung cho từng người bạn -->
            <div class="photo-card">
                <img data-src="access/anh1.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh bạn bè 1">
                <div class="photo-caption">
                    <strong></strong><br>
                </div>
            </div>
            
            <div class="photo-card">
                <img data-src="access/anh2.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh bạn bè 2">
                <div class="photo-caption">
                    <strong></strong><br>
                </div>
            </div>
            
            <div class="photo-card">
                <img data-src="access/anh3.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh bạn bè 3">
                <div class="photo-caption">
                    <strong></strong><br>
                </div>
            </div>
            
            <div class="photo-card">
                <img data-src="access/anh4.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh bạn bè 4">
                <div class="photo-caption">
                    <strong></strong><br>
                </div>
            </div>
        </div>
    </section>
    <section id="projects" class="reveal-on-scroll">
        <div class="section-title">
            <h2>Kho Ảnh Bạn Bè</h2>
            <p>Những câu chuyện và người bạn đồng hành</p>
        </div>
        
        <div class="pinterest-grid">
            
            <div class="photo-card">
                <img data-src="access/bb1.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh Dọc">
                <div class="photo-caption">12A2 Sân sau THPT Nguyễn Thị Diệu</div>
            </div>
            
            <div class="photo-card">
                <img data-src="access/bb2.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh Ngang">
                <div class="photo-caption">12A2 Sân trước THPT Nguyễn Thị Diệu</div>
            </div>
            
            <div class="photo-card">
                <img data-src="access/bb3.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh Vuông">
                <div class="photo-caption">12A2 Rung chuông vàng 2025-2026 </div>
            </div>
            
            <div class="photo-card">
                <img data-src="access/bb4.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh Dọc dài">
                <div class="photo-caption">12A2 Ngoại khóa Đà Lạt</div>
            </div>
            
            <div class="photo-card">
                <img data-src="access/bb5.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh Ngang">
                <div class="photo-caption">12A2 Rung chuông vàng 2025-2026</div>
            </div>
            
            <div class="photo-card">
                <img data-src="access/bb6.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" loading="lazy" class="lazy" alt="Ảnh Dọc">
                <div class="photo-caption">12A2 Rung chuông vàng 2025-2026</div>
            </div>
            
        </div>
    </section>
    <footer class="reveal-on-scroll">
        <div class="footer-content">
            
            <div class="footer-section contact-info-footer">
                <h3>Nguyễn Công Chính</h3>
                <ul style="margin-top: 1rem; color: rgba(255,255,255,0.8); list-style: none;">
                    <li><i class="fas fa-envelope" style="margin-right: 8px;"></i> congchinh060328@gmail.com</li>
                    <li><i class="fas fa-phone" style="margin-right: 8px;"></i> 08993672606</li>
                </ul>
                
                <div class="social-links">
                    <a href="https://www.facebook.com/congchinh.nguyen.7773" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>Điều hướng</h3>
                <ul>
                    <li><a href="index.html">Trang chủ & Về tôi</a></li>
                    <li><a href="skills.html">Kỹ năng & Sở thích</a></li>
                    <li><a href="blog.html">Blog & Bạn bè</a></li>
                    <li><a href="contact.html">Liên hệ</a></li>
                </ul>
            </div>
            
        </div>
        <div class="copyright">
            Copyright © 2025 Nguyễn Công Chính. All rights reserved.
        </div>
    </footer>

<div id="image-lightbox" class="lightbox">
    <span class="lightbox-close">&times;</span>
    <img class="lightbox-content" id="lightbox-img">
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // --- SCRIPT CHO LAZY LOAD ---
        // Chọn tất cả ảnh có class 'lazy'
        const lazyImages = document.querySelectorAll('img.lazy');

        // Tạo một observer để theo dõi khi ảnh đi vào màn hình
        const lazyLoadObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                // Nếu ảnh đang trong viewport
                if (entry.isIntersecting) {
                    const img = entry.target;
                    // Thay thế src bằng data-src để tải ảnh thật
                    img.src = img.dataset.src;
                    
                    // Chờ ảnh tải xong rồi mới hiện ra (xóa class 'lazy') để có hiệu ứng mượt mà
                    img.addEventListener('load', () => {
                        img.classList.remove('lazy');
                    });

                    // Ngừng theo dõi ảnh này vì đã tải xong
                    observer.unobserve(img);
                }
            });
        });

        // Bắt đầu theo dõi tất cả các ảnh 'lazy'
        lazyImages.forEach(img => {
            lazyLoadObserver.observe(img);
        });

        // --- SCRIPT FOR REVEAL ON SCROLL ---
        const revealElements = document.querySelectorAll('.reveal-on-scroll');
        const revealObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target); // Stop observing once revealed
                }
            });
        }, {
            threshold: 0.1 // Trigger when 10% of the element is visible
        });

        revealElements.forEach(el => {
            revealObserver.observe(el);
        });

        // --- SCRIPT CHO LIGHTBOX (giữ nguyên và hoạt động tốt với lazy load) ---
        const lightbox = document.getElementById('image-lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const closeBtn = document.querySelector('.lightbox-close');
        const images = document.querySelectorAll('.pinterest-grid .photo-card img');

        images.forEach(img => {
            img.addEventListener('click', () => {
                if (img.src && !img.src.startsWith('data:image')) { // Chỉ mở lightbox khi ảnh thật đã tải
                    lightbox.style.display = 'block';
                    lightboxImg.src = img.src;
                }
            });
        });

        const closeLightbox = () => lightbox.style.display = 'none';
        closeBtn.addEventListener('click', closeLightbox);
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) closeLightbox();
        });
    });
</script>
</body>
</html>
